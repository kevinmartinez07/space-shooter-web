<section class="alias-card">
  <div class="actions">
    <button type="button" class="back" (click)="goBack()">Regresar</button>
  </div>

  <h3>@if (alias()) { Historial de {{ alias() }} } @else { Sin resultados }</h3>

  @if (loading()) {
  <p>Cargando…</p>
  } @if (error()) {
  <p>{{ error() }}</p>
  }

  <div class="table-wrap">
    @if (rows().length) {
      <table>
        <thead>
          <tr>
            <th>Puntos</th>
            <th>MaxCombo</th>
            <th>Duración (s)</th>
            <th>Fecha</th>
          </tr>
        </thead>
        <tbody>
          @for (r of rows(); track r.id) {
            <tr>
              <td>{{ r.points }}</td>
              <td>{{ r.maxCombo || 0 }}</td>
              <td>{{ r.durationSec || 0 }}</td>
              <td>{{ r.createdAt | date:'yyyy-MM-dd HH:mm' }}</td>
            </tr>
          }
        </tbody>
      </table>
    } @else if (!loading() && alias()) {
      <!-- Caso: alias válido pero sin puntajes -->
      <div class="empty">
        <p class="empty-text">El personaje <strong>{{ alias() }}</strong> aún no tiene puntajes o no existe</p>

      </div>
    } @else if (!loading()) {
      <!-- Caso: no hay alias en la URL -->
      <div class="empty">
        <p>Sin resultados</p>
        <a routerLink="/ranking">Volver al ranking</a>
      </div>
    }
  </div>
  
</section>
